var W=Object.defineProperty;var V=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var q=(a,s,o)=>s in a?W(a,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[s]=o,E=(a,s)=>{for(var o in s||(s={}))F.call(s,o)&&q(a,o,s[o]);if(V)for(var o of V(s))D.call(s,o)&&q(a,o,s[o]);return a};import{d as y,o as _,c as m,a as e,t as w,r as v,w as R,b as h,v as g,p as U,e as I,f as M,u,g as f,h as J,i as z,j as B,k as G,F as j,l as K,n as N,m as O,q as d,s as b,x as Q,y as X,O as Y}from"./vendor.857a9fbe.js";const Z=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};Z();const ee="modulepreload",T={},se="/",te=function(s,o){return!o||o.length===0?s():Promise.all(o.map(n=>{if(n=`${se}${n}`,n in T)return;T[n]=!0;const t=n.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":ee,t||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),t)return new Promise((c,k)=>{r.addEventListener("load",c),r.addEventListener("error",k)})})).then(()=>s())},oe={class:"section"},ae={class:"title"},L=y({props:{title:{type:String,defualt:"Hello World"}},setup(a){const s=a;return(o,n)=>(_(),m("div",oe,[e("h1",ae,w(s.title),1)]))}});var S=(a,s)=>{const o=a.__vccOpts||a;for(const[n,t]of s)o[n]=t;return o};const ne={},ie={class:"container"},re=e("h1",{class:"title"},"Praying for Ukraine",-1),le=[re];function ce(a,s){return _(),m("div",ie,le)}var ue=S(ne,[["render",ce]]);const de=a=>(U("data-v-1c898fca"),a=a(),I(),a),pe={class:"section"},_e={class:"wrap"},me=de(()=>e("div",{class:"form-header"},[e("h3",null,"Login")],-1)),ve={class:"form-group"},fe={class:"form-group"},he=M('<div class="form-group" data-v-1c898fca><a href="#" class="form-forgot" data-v-1c898fca>Forgot Password?</a></div><div class="form-group" data-v-1c898fca><button class="form-button" type="submit" data-v-1c898fca>Login</button></div><div class="form-footer" data-v-1c898fca> Don&#39;t have an account? <a href="/register.html" data-v-1c898fca>Sign Up</a></div>',3),ge=y({setup(a){const{Login:s}=C(),o=v(""),n=v("");return(t,i)=>(_(),m("div",pe,[e("div",_e,[e("form",{class:"login-form form",onSubmit:i[2]||(i[2]=R(r=>u(s)(o.value,n.value),["prevent"]))},[me,e("div",ve,[h(e("input",{type:"text",class:"form-input",placeholder:"Handle",required:"","onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r)},null,512),[[g,o.value]])]),e("div",fe,[h(e("input",{type:"password",class:"form-input",placeholder:"Password",required:"","onUpdate:modelValue":i[1]||(i[1]=r=>n.value=r)},null,512),[[g,n.value]])]),he],32)])]))}});var be=S(ge,[["__scopeId","data-v-1c898fca"]]);const P=a=>(U("data-v-329a6ffe"),a=a(),I(),a),ye={class:"section"},$e={class:"wrap"},we=P(()=>e("div",{class:"form-header"},[e("h3",null,"Register")],-1)),ke={class:"form-group"},Se={class:"form-group"},Le={class:"form-group"},xe={class:"form-group"},Ne=P(()=>e("input",{type:"password",class:"form-input ml",placeholder:"Confirm Password",required:""},null,-1)),Ue=P(()=>e("div",{class:"form-group"},[e("button",{class:"form-button",type:"submit"},"Register")],-1)),Ie=P(()=>e("div",{class:"form-footer"},[f(" Have an account? "),e("a",{href:"/login.html"},"Sign In")],-1)),Pe=y({setup(a){const{Register:s}=C(),o=v(""),n=v(""),t=v(""),i=v(""),r=v(""),c=v("");return(k,l)=>(_(),m("div",ye,[e("div",$e,[e("form",{class:"register-form form",onSubmit:l[6]||(l[6]=R(p=>u(s)(i.value,r.value,o.value,t.value,n.value,c.value),["prevent"]))},[we,e("div",ke,[h(e("input",{type:"text",class:"form-input",placeholder:"First Name","onUpdate:modelValue":l[0]||(l[0]=p=>i.value=p),required:""},null,512),[[g,i.value]]),h(e("input",{type:"text",class:"form-input ml",placeholder:"Last Name","onUpdate:modelValue":l[1]||(l[1]=p=>r.value=p),required:""},null,512),[[g,r.value]])]),e("div",Se,[h(e("input",{type:"email",class:"form-input",placeholder:"Email","onUpdate:modelValue":l[2]||(l[2]=p=>t.value=p),required:""},null,512),[[g,t.value]])]),e("div",Le,[h(e("input",{type:"text",class:"form-input",placeholder:"Handle","onUpdate:modelValue":l[3]||(l[3]=p=>o.value=p),required:""},null,512),[[g,o.value]]),h(e("input",{type:"text",class:"form-input ml",placeholder:"Pic","onUpdate:modelValue":l[4]||(l[4]=p=>c.value=p),required:""},null,512),[[g,c.value]])]),e("div",xe,[h(e("input",{type:"password",class:"form-input",placeholder:"New Password","onUpdate:modelValue":l[5]||(l[5]=p=>n.value=p),required:""},null,512),[[g,n.value]]),Ne]),Ue,Ie],32)])]))}});var Ce=S(Pe,[["__scopeId","data-v-329a6ffe"]]);const Oe=[{path:"/",component:ue},{path:"/about",component:L,props:{title:"About Page"}},{path:"/contact",component:L,props:{title:"Contact Page"}},{path:"/login",component:be},{path:"/signup",component:Ce},{path:"/wall",component:()=>te(()=>import("./Wall.e9f19fa1.js"),["assets/Wall.e9f19fa1.js","assets/Wall.e5b21de0.css","assets/vendor.857a9fbe.js"])},{path:"/jobs",component:L,props:{title:"Jobs page"}},{path:"/issue",component:L,props:{title:"Issue Page"}}],$=J({history:z(),routes:Oe,linkActiveClass:"is-active"});$.beforeEach(async(a,s)=>{const o=C();if(!o.user){const t=localStorage.getItem("user");t&&await o.LoginByToken(t)}if(o.destinationUrl==null&&a.path!="/login"&&(o.destinationUrl=a.path),["/messages","/wall","/feed","/hidden"].includes(a.path.toLowerCase())&&!o.user)return"/login"});const x=B("messages",{state:()=>({notifications:[]}),actions:{close(a){this.notifications.splice(a,1)}}}),Ve="/api/",qe=(a,s,o,n)=>{let t={method:o||"GET",headers:n};return s&&(t={method:o||"POST",headers:E({"Content-Type":"application/json",Accept:"application/json"},t.headers),cache:"no-cache",body:JSON.stringify(s)}),fetch(Ve+a,t).then(i=>i.json())},C=B("session",{state:()=>({user:null,destinationUrl:null}),actions:{async Login(a,s){var n;const o=x();try{const t=await this.api("users/login",{email:a,password:s});t&&(o.notifications.push({type:"success",message:`Welcome back ${t.firstName}!`}),this.user=t,$.push((n=this.destinationUrl)!=null?n:"/wall"),localStorage.setItem("user",t.token))}catch(t){o.notifications.push({type:"danger",message:t.message}),console.table(o.notifications)}},Logout(){this.user=null,$.push("/login"),localStorage.removeItem("user")},async Register(a,s,o,n,t,i){var k;const r=x(),c={firstName:a,lastName:s,handle:o,email:n,password:t,pic:i};try{const l=await this.api("users",c,"POST");l&&(r.notifications.push({type:"success",message:`Welcome ${l.firstName}!`}),this.user=l,$.push((k=this.destinationUrl)!=null?k:"/wall"),localStorage.setItem("user",l.token))}catch(l){r.notifications.push({type:"danger",message:l.message}),console.table(r.notifications)}},async LoginByToken(a){var s;try{const o=await this.api(`users/login/${a}`);o&&(this.user=o,$.push((s=this.destinationUrl)!=null?s:"/wall"))}catch(o){console.log(o)}},async api(a,s,o,n={}){var i,r;const t=x();((i=this.user)==null?void 0:i.token)&&(n.Authorization=`Bearer ${this.user.token}`);try{const c=await qe(a,s,o,n);if((r=c.errors)==null?void 0:r.length)throw{message:c.errors.join("")};if(c.error)throw{message:c.error};return await c.data}catch(c){t.notifications.push({type:"danger",message:c.message})}}}});const Ee=a=>(U("data-v-dd64b5ea"),a=a(),I(),a),Te=Ee(()=>e("span",{class:"icon"},[e("i",{class:"fas fa-bell"})],-1)),Ae={key:0,class:"tag is-danger"},Re={class:"navbar-dropdown"},Be=["onClick"],je=y({setup(a){const s=x(),o=v(!1);return(n,t)=>(_(),m("div",{class:N(["navbar-item has-dropdown",{"is-active":o.value}])},[e("a",{class:"navbar-link",onClick:t[0]||(t[0]=i=>o.value=!o.value)},[Te,u(s).notifications.length?(_(),m("span",Ae,w(u(s).notifications.length),1)):G("",!0)]),e("div",Re,[(_(!0),m(j,null,K(u(s).notifications,(i,r)=>(_(),m("div",{class:N(`notification is-light is-${i.type}`)},[e("button",{class:"delete",onClick:c=>u(s).close(r)},null,8,Be),f(" "+w(i.message),1)],2))),256))])],2))}});var A=S(je,[["__scopeId","data-v-dd64b5ea"]]);const H=a=>(U("data-v-7afaab9c"),a=a(),I(),a),He={key:0,class:"buttons"},We=f("Log in"),Fe=H(()=>e("strong",null,"Sign up",-1)),De={key:1,class:"buttons"},Me={class:"avatar"},Je={class:"avatar-image"},ze={class:"image is-64x64"},Ge=["src"],Ke={class:"login-tag"},Qe=H(()=>e("strong",null,"Log Out",-1)),Xe=[Qe],Ye=y({setup(a){const s=C();return(o,n)=>{const t=O("router-link");return u(s).user?(_(),m("div",De,[e("div",Me,[e("div",Je,[e("figure",ze,[e("img",{src:u(s).user.pic,class:"img is-rounded"},null,8,Ge)])]),e("div",Ke,[e("strong",null,w(u(s).user.firstName)+" "+w(u(s).user.lastName),1),e("i",null,w(u(s).user.email),1)])]),d(A),e("a",{class:"button is-primary",onClick:n[0]||(n[0]=(...i)=>u(s).Logout&&u(s).Logout(...i))},Xe)])):(_(),m("div",He,[d(t,{class:"button is-light",to:"/login"},{default:b(()=>[We]),_:1}),d(t,{class:"button is-primary",to:"/signup"},{default:b(()=>[Fe]),_:1}),d(A)]))}}});var Ze=S(Ye,[["__scopeId","data-v-7afaab9c"]]);const es={class:"navbar is-link",role:"navigation","aria-label":"main navigation"},ss={class:"container"},ts={class:"navbar-brand"},os=e("a",{class:"navbar-item",href:"https://bulma.io"},[e("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"})],-1),as=e("span",{"aria-hidden":"true"},null,-1),ns=e("span",{"aria-hidden":"true"},null,-1),is=e("span",{"aria-hidden":"true"},null,-1),rs=[as,ns,is],ls={class:"navbar-start"},cs=f("Home"),us=f("Wall"),ds={class:"navbar-item has-dropdown is-hoverable"},ps=e("a",{class:"navbar-link"},"More",-1),_s={class:"navbar-dropdown"},ms=f("About"),vs=f("Jobs"),fs=f("Contact"),hs=e("hr",{class:"navbar-divider"},null,-1),gs=f("Report an issue"),bs={class:"navbar-end"},ys={class:"navbar-item"},$s=y({setup(a){const s=v(!1);return(o,n)=>{const t=O("router-link");return _(),m("nav",es,[e("div",ss,[e("div",ts,[os,e("a",{role:"button",class:N(["navbar-burger",{"is-active":s.value}]),"aria-label":"menu","aria-expanded":"false",onClick:n[0]||(n[0]=i=>s.value=!s.value)},rs,2)]),e("div",{class:N(["navbar-menu",{"is-active":s.value}])},[e("div",ls,[d(t,{class:"navbar-item",to:"/"},{default:b(()=>[cs]),_:1}),d(t,{class:"navbar-item",to:"/wall"},{default:b(()=>[us]),_:1}),e("div",ds,[ps,e("div",_s,[d(t,{class:"navbar-item",to:"/about"},{default:b(()=>[ms]),_:1}),d(t,{class:"navbar-item",to:"/jobs"},{default:b(()=>[vs]),_:1}),d(t,{class:"navbar-item",to:"/contact"},{default:b(()=>[fs]),_:1}),hs,d(t,{class:"navbar-item",to:"/issue"},{default:b(()=>[gs]),_:1})])])]),e("div",bs,[e("div",ys,[d(Ze)])])],2)])])}}}),ws={class:"container"},ks=y({setup(a){return(s,o)=>{const n=O("router-view");return _(),m(j,null,[d($s),e("div",ws,[d(n)])],64)}}});Q(ks).use($).use(X()).use(Y).mount("#app");export{S as _,qe as a,$ as r,C as u};
