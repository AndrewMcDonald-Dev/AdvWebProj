var W=Object.defineProperty;var O=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var q=(a,s,o)=>s in a?W(a,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[s]=o,E=(a,s)=>{for(var o in s||(s={}))F.call(s,o)&&q(a,o,s[o]);if(O)for(var o of O(s))D.call(s,o)&&q(a,o,s[o]);return a};import{d as y,o as _,c as m,a as e,t as w,r as v,w as R,b as h,v as g,p as U,e as I,f as M,u,g as f,h as J,i as z,j as B,k as G,F as j,l as K,n as N,m as V,q as d,s as b,x as Q,y as X}from"./vendor.af3886c7.js";const Y=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};Y();const Z="modulepreload",T={},ee="/",se=function(s,o){return!o||o.length===0?s():Promise.all(o.map(n=>{if(n=`${ee}${n}`,n in T)return;T[n]=!0;const t=n.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":Z,t||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),t)return new Promise((c,k)=>{r.addEventListener("load",c),r.addEventListener("error",k)})})).then(()=>s())},te={class:"section"},oe={class:"title"},L=y({props:{title:{type:String,defualt:"Hello World"}},setup(a){const s=a;return(o,n)=>(_(),m("div",te,[e("h1",oe,w(s.title),1)]))}});var S=(a,s)=>{const o=a.__vccOpts||a;for(const[n,t]of s)o[n]=t;return o};const ae={},ne={class:"container"},ie=e("h1",{class:"title"},"Praying for Ukraine",-1),re=[ie];function le(a,s){return _(),m("div",ne,re)}var ce=S(ae,[["render",le]]);const ue=a=>(U("data-v-1c898fca"),a=a(),I(),a),de={class:"section"},pe={class:"wrap"},_e=ue(()=>e("div",{class:"form-header"},[e("h3",null,"Login")],-1)),me={class:"form-group"},ve={class:"form-group"},fe=M('<div class="form-group" data-v-1c898fca><a href="#" class="form-forgot" data-v-1c898fca>Forgot Password?</a></div><div class="form-group" data-v-1c898fca><button class="form-button" type="submit" data-v-1c898fca>Login</button></div><div class="form-footer" data-v-1c898fca> Don&#39;t have an account? <a href="/register.html" data-v-1c898fca>Sign Up</a></div>',3),he=y({setup(a){const{Login:s}=C(),o=v(""),n=v("");return(t,i)=>(_(),m("div",de,[e("div",pe,[e("form",{class:"login-form form",onSubmit:i[2]||(i[2]=R(r=>u(s)(o.value,n.value),["prevent"]))},[_e,e("div",me,[h(e("input",{type:"text",class:"form-input",placeholder:"Handle",required:"","onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r)},null,512),[[g,o.value]])]),e("div",ve,[h(e("input",{type:"password",class:"form-input",placeholder:"Password",required:"","onUpdate:modelValue":i[1]||(i[1]=r=>n.value=r)},null,512),[[g,n.value]])]),fe],32)])]))}});var ge=S(he,[["__scopeId","data-v-1c898fca"]]);const P=a=>(U("data-v-329a6ffe"),a=a(),I(),a),be={class:"section"},ye={class:"wrap"},$e=P(()=>e("div",{class:"form-header"},[e("h3",null,"Register")],-1)),we={class:"form-group"},ke={class:"form-group"},Se={class:"form-group"},Le={class:"form-group"},xe=P(()=>e("input",{type:"password",class:"form-input ml",placeholder:"Confirm Password",required:""},null,-1)),Ne=P(()=>e("div",{class:"form-group"},[e("button",{class:"form-button",type:"submit"},"Register")],-1)),Ue=P(()=>e("div",{class:"form-footer"},[f(" Have an account? "),e("a",{href:"/login.html"},"Sign In")],-1)),Ie=y({setup(a){const{Register:s}=C(),o=v(""),n=v(""),t=v(""),i=v(""),r=v(""),c=v("");return(k,l)=>(_(),m("div",be,[e("div",ye,[e("form",{class:"register-form form",onSubmit:l[6]||(l[6]=R(p=>u(s)(i.value,r.value,o.value,t.value,n.value,c.value),["prevent"]))},[$e,e("div",we,[h(e("input",{type:"text",class:"form-input",placeholder:"First Name","onUpdate:modelValue":l[0]||(l[0]=p=>i.value=p),required:""},null,512),[[g,i.value]]),h(e("input",{type:"text",class:"form-input ml",placeholder:"Last Name","onUpdate:modelValue":l[1]||(l[1]=p=>r.value=p),required:""},null,512),[[g,r.value]])]),e("div",ke,[h(e("input",{type:"email",class:"form-input",placeholder:"Email","onUpdate:modelValue":l[2]||(l[2]=p=>t.value=p),required:""},null,512),[[g,t.value]])]),e("div",Se,[h(e("input",{type:"text",class:"form-input",placeholder:"Handle","onUpdate:modelValue":l[3]||(l[3]=p=>o.value=p),required:""},null,512),[[g,o.value]]),h(e("input",{type:"text",class:"form-input ml",placeholder:"Pic","onUpdate:modelValue":l[4]||(l[4]=p=>c.value=p),required:""},null,512),[[g,c.value]])]),e("div",Le,[h(e("input",{type:"password",class:"form-input",placeholder:"New Password","onUpdate:modelValue":l[5]||(l[5]=p=>n.value=p),required:""},null,512),[[g,n.value]]),xe]),Ne,Ue],32)])]))}});var Pe=S(Ie,[["__scopeId","data-v-329a6ffe"]]);const Ce=[{path:"/",component:ce},{path:"/about",component:L,props:{title:"About Page"}},{path:"/contact",component:L,props:{title:"Contact Page"}},{path:"/login",component:ge},{path:"/signup",component:Pe},{path:"/wall",component:()=>se(()=>import("./Wall.e2637d3e.js"),["assets/Wall.e2637d3e.js","assets/Wall.f2041c58.css","assets/vendor.af3886c7.js"])},{path:"/jobs",component:L,props:{title:"Jobs page"}},{path:"/issue",component:L,props:{title:"Issue Page"}}],$=J({history:z(),routes:Ce,linkActiveClass:"is-active"});$.beforeEach(async(a,s)=>{const o=C();if(!o.user){const t=localStorage.getItem("user");t&&await o.LoginByToken(t)}if(o.destinationUrl==null&&a.path!="/login"&&(o.destinationUrl=a.path),["/messages","/wall","/feed","/hidden"].includes(a.path.toLowerCase())&&!o.user)return"/login"});const x=B("messages",{state:()=>({notifications:[]}),actions:{close(a){this.notifications.splice(a,1)}}}),Ve="/api/",Oe=(a,s,o,n)=>{let t={method:o||"GET",headers:n};return s&&(t={method:o||"POST",headers:E({"Content-Type":"application/json",Accept:"application/json"},t.headers),cache:"no-cache",body:JSON.stringify(s)}),fetch(Ve+a,t).then(i=>i.json())},C=B("session",{state:()=>({user:null,destinationUrl:null}),actions:{async Login(a,s){var n;const o=x();try{const t=await this.api("users/login",{email:a,password:s});t&&(o.notifications.push({type:"success",message:`Welcome back ${t.firstName}!`}),this.user=t,$.push((n=this.destinationUrl)!=null?n:"/wall"),localStorage.setItem("user",t.token))}catch(t){o.notifications.push({type:"danger",message:t.message}),console.table(o.notifications)}},Logout(){this.user=null,$.push("/login"),localStorage.removeItem("user")},async Register(a,s,o,n,t,i){var k;const r=x(),c={firstName:a,lastName:s,handle:o,email:n,password:t,pic:i};try{const l=await this.api("users",c,"POST");l&&(r.notifications.push({type:"success",message:`Welcome ${l.firstName}!`}),this.user=l,$.push((k=this.destinationUrl)!=null?k:"/wall"),localStorage.setItem("user",l.token))}catch(l){r.notifications.push({type:"danger",message:l.message}),console.table(r.notifications)}},async LoginByToken(a){var s;try{const o=await this.api(`users/login/${a}`);o&&(this.user=o,$.push((s=this.destinationUrl)!=null?s:"/wall"))}catch(o){console.log(o)}},async api(a,s,o,n={}){var i,r;const t=x();((i=this.user)==null?void 0:i.token)&&(n.Authorization=`Bearer ${this.user.token}`);try{const c=await Oe(a,s,o,n);if((r=c.errors)==null?void 0:r.length)throw{message:c.errors.join("")};if(c.error)throw{message:c.error};return await c.data}catch(c){t.notifications.push({type:"danger",message:c.message})}}}});const qe=a=>(U("data-v-dd64b5ea"),a=a(),I(),a),Ee=qe(()=>e("span",{class:"icon"},[e("i",{class:"fas fa-bell"})],-1)),Te={key:0,class:"tag is-danger"},Ae={class:"navbar-dropdown"},Re=["onClick"],Be=y({setup(a){const s=x(),o=v(!1);return(n,t)=>(_(),m("div",{class:N(["navbar-item has-dropdown",{"is-active":o.value}])},[e("a",{class:"navbar-link",onClick:t[0]||(t[0]=i=>o.value=!o.value)},[Ee,u(s).notifications.length?(_(),m("span",Te,w(u(s).notifications.length),1)):G("",!0)]),e("div",Ae,[(_(!0),m(j,null,K(u(s).notifications,(i,r)=>(_(),m("div",{class:N(`notification is-light is-${i.type}`)},[e("button",{class:"delete",onClick:c=>u(s).close(r)},null,8,Re),f(" "+w(i.message),1)],2))),256))])],2))}});var A=S(Be,[["__scopeId","data-v-dd64b5ea"]]);const H=a=>(U("data-v-7afaab9c"),a=a(),I(),a),je={key:0,class:"buttons"},He=f("Log in"),We=H(()=>e("strong",null,"Sign up",-1)),Fe={key:1,class:"buttons"},De={class:"avatar"},Me={class:"avatar-image"},Je={class:"image is-64x64"},ze=["src"],Ge={class:"login-tag"},Ke=H(()=>e("strong",null,"Log Out",-1)),Qe=[Ke],Xe=y({setup(a){const s=C();return(o,n)=>{const t=V("router-link");return u(s).user?(_(),m("div",Fe,[e("div",De,[e("div",Me,[e("figure",Je,[e("img",{src:u(s).user.pic,class:"img is-rounded"},null,8,ze)])]),e("div",Ge,[e("strong",null,w(u(s).user.firstName)+" "+w(u(s).user.lastName),1),e("i",null,w(u(s).user.email),1)])]),d(A),e("a",{class:"button is-primary",onClick:n[0]||(n[0]=(...i)=>u(s).Logout&&u(s).Logout(...i))},Qe)])):(_(),m("div",je,[d(t,{class:"button is-light",to:"/login"},{default:b(()=>[He]),_:1}),d(t,{class:"button is-primary",to:"/signup"},{default:b(()=>[We]),_:1}),d(A)]))}}});var Ye=S(Xe,[["__scopeId","data-v-7afaab9c"]]);const Ze={class:"navbar is-link",role:"navigation","aria-label":"main navigation"},es={class:"container"},ss={class:"navbar-brand"},ts=e("a",{class:"navbar-item",href:"https://bulma.io"},[e("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"})],-1),os=e("span",{"aria-hidden":"true"},null,-1),as=e("span",{"aria-hidden":"true"},null,-1),ns=e("span",{"aria-hidden":"true"},null,-1),is=[os,as,ns],rs={class:"navbar-start"},ls=f("Home"),cs=f("Wall"),us={class:"navbar-item has-dropdown is-hoverable"},ds=e("a",{class:"navbar-link"},"More",-1),ps={class:"navbar-dropdown"},_s=f("About"),ms=f("Jobs"),vs=f("Contact"),fs=e("hr",{class:"navbar-divider"},null,-1),hs=f("Report an issue"),gs={class:"navbar-end"},bs={class:"navbar-item"},ys=y({setup(a){const s=v(!1);return(o,n)=>{const t=V("router-link");return _(),m("nav",Ze,[e("div",es,[e("div",ss,[ts,e("a",{role:"button",class:N(["navbar-burger",{"is-active":s.value}]),"aria-label":"menu","aria-expanded":"false",onClick:n[0]||(n[0]=i=>s.value=!s.value)},is,2)]),e("div",{class:N(["navbar-menu",{"is-active":s.value}])},[e("div",rs,[d(t,{class:"navbar-item",to:"/"},{default:b(()=>[ls]),_:1}),d(t,{class:"navbar-item",to:"/wall"},{default:b(()=>[cs]),_:1}),e("div",us,[ds,e("div",ps,[d(t,{class:"navbar-item",to:"/about"},{default:b(()=>[_s]),_:1}),d(t,{class:"navbar-item",to:"/jobs"},{default:b(()=>[ms]),_:1}),d(t,{class:"navbar-item",to:"/contact"},{default:b(()=>[vs]),_:1}),fs,d(t,{class:"navbar-item",to:"/issue"},{default:b(()=>[hs]),_:1})])])]),e("div",gs,[e("div",bs,[d(Ye)])])],2)])])}}}),$s={class:"container"},ws=y({setup(a){return(s,o)=>{const n=V("router-view");return _(),m(j,null,[d(ys),e("div",$s,[d(n)])],64)}}});Q(ws).use($).use(X()).mount("#app");export{S as _,Oe as a,$ as r,C as u};
